{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/javascript/bubble.js","webpack:///./lib/javascript/bubble_bros.js","webpack:///./lib/javascript/game.js","webpack:///./lib/javascript/game_view.js","webpack:///./lib/javascript/grapple.js","webpack:///./lib/javascript/ladder.js","webpack:///./lib/javascript/level_config.js","webpack:///./lib/javascript/moving_object.js","webpack:///./lib/javascript/platform.js","webpack:///./lib/javascript/player.js","webpack:///./lib/javascript/util.js"],"names":["Util","require","DEFAULTS","VELOCITY","GRAVITY","SIZE","SPRITE_SHEET","SPRITES","Bubble","options","size","pos","game","randomPosition","vel","gravity","width","height","ctx","bubble","Image","src","onload","drawImage","axis","remove","otherObject","angle","Grapple","splitBubble","Platform","add","MovingObject","document","addEventListener","border","getElementById","Game","DIM_X_HUD","DIM_Y_HUD","ctxBORDER","getContext","hud","ctxHUD","background","DIM_X","DIM_Y","ctxBG","player","ctxPLAYER","window","GameView","start","bubbles","grapples","players","platforms","ladders","level","addBubbles","addPlatforms","stageClear","stageClearTimer","gameOver","points","object","push","Player","Ladder","Error","LEVELS","i","NUM_BUBBLES","BUBBLE_START_POS","slice","BUBBLE_VELOCITY","BUBBLE_SIZE","NUM_PLATFORMS","PLATFORM_POS","PLATFORM_HEIGHT","PLATFORM_WIDTH","hasLadder","PLATFORM_HAS_LADDER","mainPlayer","NUM_PLAYERS","playerStartPos","playerNumber","concat","allObjects","length","j","obj1","obj2","isCollidedWith","collideWith","num","Math","floor","random","x","y","row","drawBorder","drawHUD","drawBackground","drawPlayer","backgroundImage","BG_IMAGE","levelCoordinates","generateLevelCoordinates","nonPlayerObjects","forEach","draw","STAGE_CLEAR_IMAGE","STAGE_CLEAR","nextLevel","GAME_OVER_IMAGE","GAME_OVER","fillStyle","fillRect","clearRect","livesImage","HUD_LIVES_IMAGE","HUD_LIVES","font","fillText","livesLeft","BG_BORDER","delta","abs","building","move","splice","indexOf","resetLevel","resetPlayerPos","platform","climbing","PLAYER_START_POS","moveObjects","checkCollisions","addPlayers","event","RUN","key","run","CLIMB","climb","code","fireGrapple","stopRunning","stopClimbing","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","timeDelta","step","a","d","s","w","ROPE_SPRITE_SHEET","ROPE","HOOK_SPRITE_SHEET","HOOK","WIDTH","HEIGHT","Object","freeze","FREEZE_DUR","freezeDur","rope","hook","handleOutOfBounds","ladder","SPRITE","NORMAL_FRAME_TIME_DELTA","heightChange","extraHeight","hit","dx","dy","atan2","PI","velocityScale","offsetX","offsetY","isOutOfBounds","generateLadder","beginPath","rect","fill","lineWidth","strokeStyle","stroke","STANDING_ANIMATION","FIRE_GRAPPLE_ANIMATION","RUNNING_ANIMATION_RIGHT","RUNNING_ANIMATION_LEFT","CLIMBING_ANIMATION","COLLISION_ANIMATION_RIGHT","COLLISION_ANIMATION_LEFT","GRAPPLE_TIMEOUT","LIVES","PLAYER_NUMBER","sprite","spriteIndex","outOfBounds","dying","lastFire","Date","collisionAnimation","setTimeout","grapple","changeInPos","dir","vec","norm","scale","dist","pos1","pos2","sqrt","pow","randomVec","deg","sin","cos","m","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/javascript/bubble_bros.js\");\n","const Util = require('./util');\nimport MovingObject from './moving_object';\nimport Player from './player';\nimport Grapple from './grapple';\nimport Platform from './platform';\n\nconst DEFAULTS = {\n  VELOCITY: [2, 4],\n  GRAVITY: 0.15,\n  SIZE: 0\n};\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Buster%20Bros%20Balloons.png';\nconst SPRITES = [[1, 6, 48, 40], [52, 13, 32, 26], [86, 19, 16, 14], [106, 23, 8, 7]];\n\nexport default class Bubble extends MovingObject {\n  constructor(options) {\n    options.size = options.size || DEFAULTS.SIZE;\n    options.pos = options.pos || options.game.randomPosition();\n    options.vel = options.vel || DEFAULTS.VELOCITY;\n    options.gravity = options.gravity || DEFAULTS.GRAVITY;\n    options.width = SPRITES[options.size][2] * 2;\n    options.height = SPRITES[options.size][3] * 2;\n    super(options);\n    \n  }\n\n  draw(ctx) {\n    const bubble = new Image();\n    bubble.src = SPRITE_SHEET;\n\n    bubble.onload = () => {\n      ctx.drawImage(bubble, SPRITES[this.size][0], SPRITES[this.size][1], SPRITES[this.size][2], SPRITES[this.size][3], this.pos[0], this.pos[1], this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    };\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'x') this.vel[0] *= -1;\n    if (axis === 'y') {\n      this.vel[1] *= -1;\n      if (this.pos[1] > 100) this.pos[1] -= 2;\n      if (this.pos[1] < 100) this.pos[1] += 2;\n    }\n    if (this.pos[1] > 1200 || this.pos[1] < 0 || this.pos[0] > 1600 || this.pos[0] < 0) this.remove();\n  }\n\n  collideWith(otherObject, angle) {\n    if (otherObject instanceof Grapple) {\n      otherObject.remove();\n      if (this.size < 3) {\n        this.splitBubble()\n      } else {\n        this.remove();\n      }\n    } \n    if (otherObject instanceof Platform) {\n      if (angle >= 0 && angle < 180) { /// bottom\n        if (this.vel[1] > 0) this.vel[1] = -this.vel[1];\n      } else { /// top\n        if (this.vel[1] < 0) this.vel[1] = -this.vel[1];\n      }\n    }\n  }\n\n  splitBubble() {\n    this.game.add(new Bubble({\n      game: this.game,\n      pos: [this.pos[0] - 5, this.pos[1]],\n      vel: [this.vel[0] * -1, this.vel[1]],\n      size: this.size + 1\n    }));\n    this.game.add(new Bubble({\n      game: this.game,\n      pos: [this.pos[0] + 5, this.pos[1]],\n      vel: this.vel,\n      size: this.size + 1\n    }));\n\n    this.remove();\n  }\n\n}\n","import Game from './game';\nimport GameView from './game_view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const border = document.getElementById('border');\n  border.width = Game.DIM_X_HUD;\n  border.height= Game.DIM_Y_HUD;\n  const ctxBORDER = border.getContext('2d');\n\n  const hud = document.getElementById('hud');\n  hud.width = Game.DIM_X_HUD;\n  hud.height= Game.DIM_Y_HUD;\n  const ctxHUD = hud.getContext('2d');\n\n  const background = document.getElementById('background');\n  background.width = Game.DIM_X;\n  background.height = Game.DIM_Y\n  const ctxBG = background.getContext('2d');\n\n  const player = document.getElementById('player');\n  player.width = Game.DIM_X;\n  player.height = Game.DIM_Y_HUD;\n  const ctxPLAYER = player.getContext('2d');\n\n  const game = new Game();\n  window.game = game;\n  new GameView(game, ctxBORDER, ctxHUD, ctxBG, ctxPLAYER).start();\n});\n","import Player from './player';\nimport Bubble from './bubble';\nimport Grapple from './grapple';\nimport Platform from './platform';\nimport Ladder from './ladder';\n\nimport {LEVELS} from './level_config';\n\nexport default class Game {\n  constructor() {\n    this.bubbles = [];\n    this.grapples = [];\n    this.players = [];\n    this.platforms = [];\n    this.ladders = [];\n\n    this.level = 1;\n\n    this.addBubbles();\n    this.addPlatforms();\n\n    this.stageClear = false;\n    this.stageClearTimer = 300;\n\n    this.gameOver = false;\n\n    this.points = 0;\n  }\n\n  add(object) {\n    if (object instanceof Bubble) {\n      this.bubbles.push(object);\n    } else if (object instanceof Grapple) {\n      this.grapples = [];\n      this.grapples.push(object);\n    } else if (object instanceof Player) {\n      this.players.push(object);\n    } else if (object instanceof Platform) {\n      this.platforms.push(object);\n    } else if (object instanceof Ladder) {\n      this.ladders.push(object);\n    } else {\n      throw new Error('Unknown type of object');\n    }\n  }\n\n  addBubbles() {\n    let level = LEVELS[this.level];\n\n    for (let i = 0; i < level.NUM_BUBBLES; i++) {\n      this.add(new Bubble({\n        game: this,\n        pos: level.BUBBLE_START_POS[i].slice(0),\n        vel: level.BUBBLE_VELOCITY[i].slice(0),\n        size: level.BUBBLE_SIZE[i]\n      }));\n    }\n  }\n\n  addPlatforms() {\n    let level = LEVELS[this.level];\n\n    for (let i = 0; i < level.NUM_PLATFORMS; i++) {\n      this.add(new Platform({\n        game: this,\n        pos: level.PLATFORM_POS[i].slice(0),\n        height: level.PLATFORM_HEIGHT[i],\n        width: level.PLATFORM_WIDTH[i],\n        hasLadder: level.PLATFORM_HAS_LADDER\n      }));\n    }\n  }\n\n  addPlayers() {\n    let mainPlayer;\n\n    for (let i = 0; i < Game.NUM_PLAYERS; i++) {\n      let player = new Player({\n        pos: this.playerStartPos(i),\n        game: this,\n        playerNumber: i,\n      });\n      \n      if (i === 0) mainPlayer = player;\n      this.add(player);\n    }\n\n    return mainPlayer;\n  }\n\n  allObjects() {\n    return [].concat(this.players, this.bubbles, this.grapples, this.platforms, this.ladders);\n  }\n\n  nonPlayerObjects() {\n    return [].concat(this.bubbles, this.grapples, this.platforms, this.ladders);\n  }\n\n  checkCollisions() {\n    const allObjects = this.allObjects();\n    for (let i = 0; i < allObjects.length; i++) {\n      for (let j = 0; j < allObjects.length; j++) {\n\n        const obj1 = allObjects[i];\n        const obj2 = allObjects[j];\n\n        const isCollidedWith = obj1.isCollidedWith(obj2)\n\n        if (isCollidedWith) {\n          obj1.collideWith(obj2, isCollidedWith);\n        }\n      }\n    }\n  }\n\n  generateLevelCoordinates(num) {\n    const level = num || Math.floor(Math.random() * 50) + 1;\n    this.level = level;\n\n    let x;\n    let y;\n\n    level > 25 ? x = 400 : x = 8;\n    let row = level % 25;\n    (row === 1 || row === 26) ? y = 8 : y = 8 + (8 * row) + (208 * row);\n\n    return [x, y];\n  }\n\n  draw(ctxBORDER, ctxHUD, ctxBG, ctxPLAYER) {\n    this.drawBorder(ctxBORDER);\n    this.drawHUD(ctxHUD);\n    this.drawBackground(ctxBG);\n    this.drawPlayer(ctxPLAYER);\n  }\n\n  drawBackground(ctxBG) {\n    const backgroundImage = new Image();\n    backgroundImage.src = Game.BG_IMAGE;\n\n    const levelCoordinates = this.generateLevelCoordinates(this.level);\n\n    backgroundImage.onload = () => {\n      ctxBG.drawImage(backgroundImage, levelCoordinates[0], levelCoordinates[1], 384, 208, 0, 0, Game.DIM_X, Game.DIM_Y);\n    };\n\n    \n    this.nonPlayerObjects().forEach(object => object.draw(ctxBG));\n\n    if (this.stageClear && this.stageClearTimer > 0) {\n      const stageClear = new Image();\n      stageClear.src = Game.STAGE_CLEAR_IMAGE;\n\n\n      ctxBG.drawImage(stageClear, Game.STAGE_CLEAR[0], Game.STAGE_CLEAR[1], Game.STAGE_CLEAR[2], Game.STAGE_CLEAR[3], Game.DIM_X / 4, Game.DIM_Y / 3, Game.STAGE_CLEAR[2], Game.STAGE_CLEAR[3]); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n\n      this.stageClearTimer -= 1;\n\n      if (this.stageClearTimer === 0) {\n        this.stageClear = false;\n        this.nextLevel();\n      }\n    } else if (this.gameOver) {\n      const gameOver = new Image();\n      gameOver.src = Game.GAME_OVER_IMAGE;\n\n      ctxBG.drawImage(gameOver, Game.GAME_OVER[0], Game.GAME_OVER[1], Game.GAME_OVER[2], Game.GAME_OVER[3], Game.DIM_X / 4, Game.DIM_Y / 3, Game.GAME_OVER[2], Game.GAME_OVER[3]); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    }\n  }\n\n  drawBorder(ctxBORDER) {\n    ctxBORDER.fillStyle = \"#000000\";\n    ctxBORDER.fillRect(0, 0, Game.DIM_X_HUD, Game.DIM_Y_HUD);\n  }\n\n  drawHUD (ctxHUD) {\n    ctxHUD.clearRect(0, 0, Game.DIM_X_HUD, Game.DIM_Y_HUD);\n\n    const livesImage = new Image();\n    livesImage.src = Game.HUD_LIVES_IMAGE;\n\n    ctxHUD.drawImage(livesImage, Game.HUD_LIVES[0], Game.HUD_LIVES[1], Game.HUD_LIVES[2], Game.HUD_LIVES[3], 20, Game.DIM_Y + 25, Game.HUD_LIVES[2] * 2, Game.HUD_LIVES[3] * 2);\n\n    ctxHUD.font = \"34px Sans Serif\";\n    ctxHUD.fillStyle = \"yellow\";\n    ctxHUD.fillText(`x ${this.players[0] ? this.players[0].livesLeft : 0}`, 62, Game.DIM_Y + 53);\n    ctxHUD.fillText(`${this.points}`, (Game.DIM_X / 2) - 30, Game.DIM_Y + 53);\n    ctxHUD.fillText(`WORLD ${this.level}`, Game.DIM_X - 180, Game.DIM_Y + 53);\n  }\n\n  drawPlayer(ctxPLAYER) {\n    ctxPLAYER.clearRect(0, 0, Game.DIM_X_HUD, Game.DIM_Y_HUD);\n    this.players.forEach(player => player.draw(ctxPLAYER));\n  }\n\n  isOutOfBounds(object) {\n    if ((object.pos[0] <= Game.DIM_X * Game.BG_BORDER) || (object.pos[0] + (object.width) >= Game.DIM_X - (Game.DIM_X * Game.BG_BORDER))) {\n      return 'x';\n    } else if ((object.pos[1] <= Game.DIM_Y * Game.BG_BORDER) || (object.pos[1] + (object.height) >= Game.DIM_Y - (Game.DIM_Y * Game.BG_BORDER))) {\n      return 'y';\n    }\n  }\n\n  moveObjects(delta) {\n    if (!this.stageClear && !this.gameOver) {\n      this.allObjects().forEach((object) => {\n        if (object instanceof Grapple) {\n          object.height += Math.abs(object.vel[1]);\n        } else if (object instanceof Ladder && object.building) {\n          object.height += 5;\n        }\n        object.move(delta);\n      });\n    }\n  }\n\n  remove(object) {\n    if (object instanceof Grapple) {\n      this.grapples.splice(this.grapples.indexOf(object), 1);\n    } else if (object instanceof Bubble) {\n      this.points += 100 * (object.size + 1);\n      this.bubbles.splice(this.bubbles.indexOf(object), 1);\n      if (this.bubbles.length === 0) {\n        this.stageClear = true;\n      }\n    } else if (object instanceof Player) {\n      this.players.splice(this.players.indexOf(object), 1);\n      if (this.players.length === 0) {\n        this.gameOver = true;\n      }\n    } else {\n      throw new Error('Unknown type of object');\n    }\n  }\n\n  nextLevel() {\n    this.level += 1;\n    this.resetLevel();\n  }\n  \n  randomPosition() {\n    return [\n      Game.DIM_X * Math.random(),\n      Game.DIM_Y * Math.random()\n    ];\n  }\n  \n  resetLevel() {\n    this.bubbles = [];\n    this.platforms = [];\n    this.ladders = [];\n    this.grapples = [];\n    this.stageClearTimer = 300;\n\n    this.players.forEach(player => this.resetPlayerPos(player));\n\n    this.addBubbles();\n    this.addPlatforms();\n  }\n\n  resetPlayerPos(player) {\n    player.platform = null;\n    player.climbing = false;\n    player.pos = this.playerStartPos(player.playerNumber);\n  }\n\n  playerStartPos(playerNumber) {\n    return [Game.DIM_X * Game.PLAYER_START_POS[playerNumber][0], Game.DIM_Y * Game.PLAYER_START_POS[playerNumber][1]]\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCollisions();\n  }\n}\n\nGame.BG_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Buster%20Bros%20Backgrounds.png';\nGame.BG_BORDER = 0.02;\nGame.DIM_X = 920;\nGame.DIM_Y = 500;\n\nGame.DIM_X_HUD = Game.DIM_X;\nGame.DIM_Y_HUD = Game.DIM_Y + 65;\nGame.HUD_LIVES_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/sprite_file.png';\nGame.HUD_LIVES = [153, 81, 16, 16]\n\nGame.STAGE_CLEAR_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/stage_clear.png';\nGame.STAGE_CLEAR = [5, 8, 449, 56];\n\nGame.GAME_OVER_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/game_over.png';\nGame.GAME_OVER = [9, 3, 414, 67];\n\nGame.NUM_PLAYERS = 1;\nGame.PLAYER_START_POS = [[0.05, 0.83], [0.95, 0.83]];\n","class GameView {\n  constructor(game, ctxBORDER, ctxHUD, ctxBG, ctxPLAYER) {\n    this.ctxBORDER = ctxBORDER;\n    this.ctxHUD = ctxHUD;\n    this.ctxBG = ctxBG;\n    this.ctxPLAYER = ctxPLAYER;\n    this.game = game;\n    this.player = this.game.addPlayers();\n  }\n\n  bindKeyHandlers() {\n    const { player } = this;\n\n    document.addEventListener('keypress', (event) => {\n      if (GameView.RUN[event.key]) player.run(GameView.RUN[event.key]);\n      if (GameView.CLIMB[event.key]) player.climb(GameView.CLIMB[event.key]);\n      if (event.code === 'Space') player.fireGrapple();\n    });\n\n    document.addEventListener('keyup', (event) => {\n      if (GameView.RUN[event.key]) player.stopRunning();\n      if (GameView.CLIMB[event.key]) player.stopClimbing();\n    });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctxBORDER, this.ctxHUD, this.ctxBG, this.ctxPLAYER);\n    this.lastTime = time;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGameView.RUN = {\n  a: [-1, 0],\n  d: [1, 0],\n};\n\nGameView.CLIMB = {\n  s: [0, 1],\n  w: [0, -1],\n}\n\nexport default GameView;\n","import MovingObject from './moving_object';\nimport Bubble from './bubble';\nimport Platform from './platform';\n\nconst ROPE_SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/rope_sprite.png';\nconst ROPE = [118, 17, 14, 949];\nconst HOOK_SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Grappling%20Hook.png';\nconst HOOK = [4, 0, 222, 264];\n\nconst DEFAULTS = {\n  WIDTH: 5,\n  HEIGHT: 0,\n  VELOCITY: Object.freeze([0, -5]),\n  GRAVITY: 0,\n  FREEZE_DUR: 75,\n}\n\nexport default class Grapple extends MovingObject {\n  constructor(options) {\n    options.width = DEFAULTS.WIDTH;\n    options.height = DEFAULTS.HEIGHT;\n    options.vel = options.vel || DEFAULTS.VELOCITY.slice(0);\n    options.gravity = DEFAULTS.GRAVITY;\n    super(options);\n\n    this.freezeDur = DEFAULTS.FREEZE_DUR;\n  }\n\n  draw(ctx) {\n    const rope = new Image();\n    rope.src = ROPE_SPRITE_SHEET;\n\n    const hook = new Image();\n    hook.src = HOOK_SPRITE_SHEET;\n\n    ctx.drawImage(hook, HOOK[0], HOOK[1], HOOK[2], HOOK[3], this.pos[0] - 13, this.pos[1], 30, 35); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    ctx.drawImage(rope, ROPE[0], ROPE[1], ROPE[2], this.height, this.pos[0], this.pos[1] + 30, this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n  }\n\n  collideWith(otherObject) {\n    if (otherObject instanceof Platform) {\n      this.handleOutOfBounds('y');\n    }\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'y') {\n      this.vel[1] = 0;\n      this.freezeDur -= 1;\n      if (this.freezeDur === 0) this.remove();\n    }\n  }\n}","import MovingObject from './moving_object';\n\nexport default class Ladder extends MovingObject{\n  constructor(options) {\n    options.width = options.width || 20;\n    options.height = options.height || 50;\n    options.gravity = 0;\n    super(options);\n\n    this.platform = options.platform;\n\n    this.building = true;\n  }\n\n  draw(ctxBG) {\n    const ladder = new Image();\n    ladder.src = SPRITE_SHEET;\n\n    ladder.onload = () => {\n      ctxBG.drawImage(ladder, SPRITE[0], SPRITE[1], SPRITE[2], SPRITE[3], this.pos[0], this.pos[1], this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    };\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'y') {\n      this.building = false;\n    }\n  }\n}\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/ladder.png';\nconst SPRITE = [77, 4, 116, 298];","export const LEVELS = {\n  1: {\n    NUM_BUBBLES: 1,\n    BUBBLE_SIZE: [1],\n    BUBBLE_START_POS: [[100, 200]],\n    BUBBLE_VELOCITY: [[2, 4]],\n    \n    NUM_PLATFORMS: 0,\n    PLATFORM_POS: [],\n    PLATFORM_HEIGHT: [],\n    PLATFORM_WIDTH: [],\n    PLATFORM_HAS_LADDER: false\n  },\n  2: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [1, 2],\n    BUBBLE_START_POS: [[100, 200], [800, 200]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[150, 300]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [200],\n    PLATFORM_HAS_LADDER: true\n  },\n  3: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [1, 1],\n    BUBBLE_START_POS: [[100, 200], [800, 200]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[650, 300]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [200],\n    PLATFORM_HAS_LADDER: true\n  },\n  4: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 1],\n    BUBBLE_START_POS: [[100, 200], [800, 200]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[270, 200]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [400],\n    PLATFORM_HAS_LADDER: true\n  },\n  5: {\n    NUM_BUBBLES: 3,\n    BUBBLE_SIZE: [1, 1, 2],\n    BUBBLE_START_POS: [[100, 200], [800, 200], [800, 250]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4], [-2, 4]],\n\n    NUM_PLATFORMS: 0,\n    PLATFORM_POS: [],\n    PLATFORM_HEIGHT: [],\n    PLATFORM_WIDTH: [],\n    PLATFORM_HAS_LADDER: true\n  },\n  6: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [1, 2],\n    BUBBLE_START_POS: [[100, 200], [800, 200], [100, 300]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4], [2, 4]],\n\n    NUM_PLATFORMS: 2,\n    PLATFORM_POS: [[150, 300], [600, 300]],\n    PLATFORM_HEIGHT: [10, 10],\n    PLATFORM_WIDTH: [250, 250],\n    PLATFORM_HAS_LADDER: true\n  },\n  7: {\n    NUM_BUBBLES: 3,\n    BUBBLE_SIZE: [1, 2, 3],\n    BUBBLE_START_POS: [[100, 200], [800, 200], [100, 100]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4], [2, 4]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[40, 300]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [200],\n    PLATFORM_HAS_LADDER: true\n  },\n  8: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 0],\n    BUBBLE_START_POS: [[100, 200], [800, 200]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[300, 300]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [300],\n    PLATFORM_HAS_LADDER: true\n  },\n  9: {\n    NUM_BUBBLES: 3,\n    BUBBLE_SIZE: [0, 0, 2],\n    BUBBLE_START_POS: [[100, 200], [800, 200], [100, 100]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4], [2, 4]],\n\n    NUM_PLATFORMS: 0,\n    PLATFORM_POS: [],\n    PLATFORM_HEIGHT: [],\n    PLATFORM_WIDTH: [],\n    PLATFORM_HAS_LADDER: true\n  },\n  10: {\n    NUM_BUBBLES: 3,\n    BUBBLE_SIZE: [0, 0, 1],\n    BUBBLE_START_POS: [[100, 200], [800, 200], [100, 100]],\n    BUBBLE_VELOCITY: [[2, 4], [-2, 4], [2, 4]],\n\n   NUM_PLATFORMS: 1,\n   PLATFORM_POS: [[300, 300]],\n   PLATFORM_HEIGHT: [10],\n   PLATFORM_WIDTH: [300],\n   PLATFORM_HAS_LADDER: true\n  },\n  11: {\n\n  },\n  12: {\n\n  },\n  13: {\n\n  },\n  14: {\n\n  },\n  15: {\n\n  },\n  16: {\n\n  },\n  17: {\n\n  },\n  18: {\n\n  },\n  19: {\n\n  },\n  20: {\n\n  }\n}","const NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.gravity = options.gravity;\n    this.width = options.width;\n    this.height = options.height;\n    this.size = options.size;\n    this.game = options.game;\n  }\n\n  collideWith(otherObject) {\n    // default do nothing\n  }\n\n  isCollidedWith(otherObject, heightChange) {\n    let extraHeight = heightChange || 0;\n    var hit = !(this.pos[0] + this.width < otherObject.pos[0] ||\n      otherObject.pos[0] + otherObject.width < this.pos[0] ||\n      this.pos[1] + this.height + extraHeight < otherObject.pos[1] ||\n      otherObject.pos[1] + otherObject.height < this.pos[1]);\n\n      if (hit) {\n        var dx = otherObject.pos[0] - this.pos[0];\n        var dy = otherObject.pos[1] - this.pos[1];\n\n        var angle = Math.atan2(dy, dx) * 180 / Math.PI;\n        if (angle < 0) angle += 360;\n\n        return angle;\n\n      } else {\n        return null;\n      }\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n\n    this.vel[1] += this.gravity;\n    \n    const offsetX = this.vel[0] * velocityScale;\n    const offsetY = this.vel[1] * velocityScale;\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    this.handleOutOfBounds(this.game.isOutOfBounds(this));\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nexport default MovingObject;\n","import MovingObject from \"./moving_object\";\nimport Ladder from './ladder';\nimport Bubble from './bubble';\n\nexport default class Platform extends MovingObject {\n  constructor(options) {\n    super(options);\n    this.hasLadder = options.hasLadder || true;\n    if (this.hasLadder) this.ladder = this.generateLadder();\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.rect(this.pos[0], this.pos[1], this.width, this.height);\n    ctx.fillStyle = '#00FF00';\n    ctx.fill();\n    ctx.lineWidth = 4;\n    ctx.strokeStyle = '#00CC00';\n    ctx.stroke();\n  }\n\n  generateLadder() {\n    let ladder = new Ladder({\n      pos: [this.pos[0] + (this.width / 2) - 20, this.pos[1] + this.height],\n      vel: [0, 0],\n      width: 40,\n      height: 10,\n      platform: this,\n      game: this.game\n    });\n\n    this.game.add(ladder);\n    return ladder;\n  }\n\n  move() {\n\n  }\n}","import MovingObject from './moving_object';\nimport Grapple from './grapple';\nimport Bubble from './bubble';\nimport Platform from './platform';\nimport Ladder from './ladder';\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/sprite_file.png';\nconst STANDING_ANIMATION = [11, 149, 26, 32];\nconst FIRE_GRAPPLE_ANIMATION = [43, 152, 27, 29]\nconst RUNNING_ANIMATION_RIGHT = [[11, 39, 30, 32], [45, 40, 30, 31], [79, 39, 30, 32], [113, 40, 28, 31], [148, 40, 30, 31]];\nconst RUNNING_ANIMATION_LEFT = [[145, 5, 30, 32], [111, 6, 30, 31], [77, 5, 30, 32], [45, 6, 28, 31], [9, 6, 30, 31]];\nconst CLIMBING_ANIMATION = [[12, 73, 24, 32], [48, 73, 24, 32], [80, 73, 26, 32], [114, 73, 26, 32]];\nconst COLLISION_ANIMATION_RIGHT = [80, 149, 41, 30];\nconst COLLISION_ANIMATION_LEFT = [131, 149, 41, 30];\n\nconst GRAPPLE_TIMEOUT = 400;\n\nconst DEFAULTS = {\n  VELOCITY: Object.freeze([0, 0]),\n  GRAVITY: 0,\n  LIVES: 3,\n  PLAYER_NUMBER: 0\n};\n\nexport default class Player extends MovingObject {\n  constructor(options) {\n    options.width = STANDING_ANIMATION[2] * 2;\n    options.height = STANDING_ANIMATION[3] * 2;\n    options.vel = options.vel || DEFAULTS.VELOCITY.slice(0);\n    options.gravity = DEFAULTS.GRAVITY;\n    super(options);\n\n    this.sprite = STANDING_ANIMATION;\n    this.spriteIndex = 0;\n\n    this.outOfBounds = false;\n    this.dying = false;\n\n    this.lastFire = new Date();\n    this.fireGrapple = this.fireGrapple.bind(this);\n\n    this.ladder = null;\n    this.climbing = false;\n\n    this.platform = null;\n\n    this.livesLeft = options.livesLeft || DEFAULTS.LIVES;\n    this.playerNumber = options.playerNumber || DEFAULTS.PLAYER_NUMBER;\n  }\n\n  draw(ctx) {\n    const player = new Image();\n    player.src = SPRITE_SHEET;\n\n    ctx.drawImage(player, this.sprite[0], this.sprite[1], this.sprite[2], this.sprite[3], this.pos[0], this.pos[1], this.sprite[2] * 2, this.sprite[3] * 2); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n  }\n\n  collideWith(otherObject, angle) {\n    if (otherObject instanceof Bubble && !this.dying) {\n      this.collisionAnimation(angle)\n      setTimeout(() => {\n        if (this.livesLeft > 1) {\n          this.livesLeft -= 1;\n          this.resetLevel();\n        } else {\n          this.remove();\n        }\n      }, 2000)\n    }\n    if (otherObject instanceof Platform) this.platform = otherObject;\n    if (otherObject instanceof Ladder) this.ladder = otherObject;\n  }\n\n  collisionAnimation(angle) {\n    this.dying = true;\n    this.gravity = .1;\n    if ((angle >= 0 && angle < 90) || (angle > 270 && angle < 360)) {\n      this.sprite = COLLISION_ANIMATION_RIGHT;\n      this.spriteIndex = 0;\n    } else {\n      this.sprite = COLLISION_ANIMATION_LEFT;\n      this.spriteIndex = 0;\n    }\n  }\n\n  fireGrapple() {\n    const time = new Date();\n    \n    if (time - this.lastFire > GRAPPLE_TIMEOUT) {\n      this.sprite = FIRE_GRAPPLE_ANIMATION;\n      this.spriteIndex = 0;\n      this.pos[1] += 10;\n\n      this.lastFire = time;\n      setTimeout(() => {\n        const grapple = new Grapple({\n          pos: [this.pos[0] + 27, this.pos[1] + 27],\n          game: this.game,\n        });\n    \n        this.game.add(grapple);\n        this.sprite = STANDING_ANIMATION;\n        this.pos[1] -= 10;\n      }, 100)\n    }\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'x' && this.pos[0] < 100) this.pos[0] += 5;\n    if (axis === 'x' && this.pos[0] > 100) this.pos[0] -= 5;\n  }\n\n  run(changeInPos) {\n    if (!this.dying && !this.game.stageClear && !this.climbing) {\n      let platform = this.platform;\n\n      if (platform && this.pos[0] <= platform.pos[0]) {\n        this.pos[0] += 5;\n        this.stopRunning();\n        return;\n      } \n      if (platform && (this.pos[0] >= (platform.pos[0] + platform.width - this.width))) {\n        this.pos[0] -= 5;\n        this.stopRunning();\n        return;\n      }\n\n      this.vel[0] = changeInPos[0] * 3;\n      \n      if (changeInPos[0] === 1) {\n        this.sprite = RUNNING_ANIMATION_RIGHT[this.spriteIndex];\n        this.spriteIndex = (this.spriteIndex + 1) % 5;\n      } else if (changeInPos[0] === -1) {\n        this.sprite = RUNNING_ANIMATION_LEFT[this.spriteIndex];\n        this.spriteIndex = (this.spriteIndex + 1) % 5;\n      }\n    }\n  }\n\n  stopRunning() {\n    if (!this.dying && !this.climbing) {\n      this.vel = [0, 0];\n      this.spriteIndex = 0;\n      this.sprite = STANDING_ANIMATION;\n    }\n  }\n\n  climb(changeInPos) { // add additional logic for climbing up or down\n    if (!this.dying && !this.game.stageClear) {\n      if (changeInPos[1] === -1 && this.ladder && this.isCollidedWith(this.ladder)) {\n        this.climbing = true;\n        this.vel[1] = changeInPos[1];\n        this.sprite = CLIMBING_ANIMATION[Math.floor(this.spriteIndex)];\n        this.spriteIndex = (this.spriteIndex + 0.5) % 4;\n      } else if (changeInPos[1] === 1 && this.isCollidedWith(this.ladder, 10) && !(this.game.isOutOfBounds(this))) {\n          this.climbing = true;\n          this.vel[1] = changeInPos[1];\n          this.sprite = CLIMBING_ANIMATION[Math.floor(this.spriteIndex)];\n          this.spriteIndex = (this.spriteIndex + 0.5) % 4;\n      } else {\n        this.climbing = false;\n        this.stopClimbing();\n      }\n    } \n  }\n\n  stopClimbing() {\n    if (!this.dying) {\n      if (this.platform && !this.isCollidedWith(this.platform)) this.platform = null;\n      // if (this.pos[1] > this.game.playerStartPos(this.playerNumber)[1]) this.pos[1] = this.playerStartPos(this.playerNumber)[1];\n\n      this.vel = [0, 0];\n\n      if (!this.climbing) {\n        this.spriteIndex = 0;\n        this.sprite = STANDING_ANIMATION;\n      }\n\n    }\n  }\n\n  resetLevel() {\n    this.dying = false;\n    this.gravity = 0;\n    this.vel = [0, 0];\n    this.sprite = STANDING_ANIMATION;\n    this.game.resetLevel();\n  }\n}\n","const Util = {\n  dir(vec) {\n    const norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  },\n\n  dist(pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  norm(vec) {\n    return Util.dist([0, 0], vec);\n  },\n\n  randomVec(length) {\n    const deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n\n  scale(vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n};\n\nmodule.exports = Util;\n"],"sourceRoot":""}