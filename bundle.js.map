{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/javascript/bubble.js","webpack:///./lib/javascript/bubble_bros.js","webpack:///./lib/javascript/game.js","webpack:///./lib/javascript/game_view.js","webpack:///./lib/javascript/grapple.js","webpack:///./lib/javascript/ladder.js","webpack:///./lib/javascript/level_config.js","webpack:///./lib/javascript/moving_object.js","webpack:///./lib/javascript/platform.js","webpack:///./lib/javascript/player.js"],"names":["DEFAULTS","VELOCITY","GRAVITY","SIZE","SPRITE_SHEET","SPRITES","Bubble","options","size","pos","game","randomPosition","vel","gravity","width","height","ctx","bubble","Image","src","onload","drawImage","axis","remove","otherObject","angle","Grapple","splitBubble","Platform","add","MovingObject","document","addEventListener","hud","getElementById","Game","DIM_X_HUD","DIM_Y_HUD","ctxHUD","getContext","background","DIM_X","DIM_Y","ctxBG","player","ctxPLAYER","window","GameView","start","bubbles","grapples","players","platforms","ladders","level","addBubbles","addPlatforms","stageClear","countdown","timer","gameWon","gameOver","paused","points","object","push","Player","Ladder","Error","LEVELS","i","NUM_BUBBLES","BUBBLE_START_POS","slice","BUBBLE_VELOCITY","BUBBLE_SIZE","NUM_PLATFORMS","PLATFORM_POS","PLATFORM_HEIGHT","PLATFORM_WIDTH","hasLadder","PLATFORM_HAS_LADDER","mainPlayer","NUM_PLAYERS","PLAYER_START_POS","playerStartPos","playerNumber","concat","allObjects","length","j","obj1","obj2","isCollidedWith","collideWith","num","Math","floor","random","x","y","row","drawHUD","drawBackground","drawPlayer","backgroundImage","BG_IMAGE","levelCoordinates","generateLevelCoordinates","nonPlayerObjects","forEach","draw","font","fillStyle","fillText","STAGE_CLEAR_IMAGE","STAGE_CLEAR","nextLevel","GAME_OVER_IMAGE","GAME_OVER","clearRect","livesImage","HUD_LIVES_IMAGE","HUD_LIVES","livesLeft","BG_BORDER","delta","abs","move","ladder","building","splice","indexOf","resetLevel","resetPlayerPos","platform","climbing","moveObjects","checkCollisions","addPlayers","event","RUN","key","run","CLIMB","climb","code","fireGrapple","stopRunning","stopClimbing","instructionsButton","getElementsByClassName","instructionsModal","closeInstructionsButton","classList","pause","unpause","playAgainButton","resetGame","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","timeDelta","step","a","d","s","w","ROPE_SPRITE_SHEET","ROPE","HOOK_SPRITE_SHEET","HOOK","WIDTH","HEIGHT","Object","freeze","FREEZE_DUR","freezeDur","rope","hook","handleOutOfBounds","SPRITE","NORMAL_FRAME_TIME_DELTA","heightChange","extraHeight","hit","dx","dy","atan2","PI","velocityScale","offsetX","offsetY","isOutOfBounds","generateLadder","beginPath","rect","fill","lineWidth","strokeStyle","stroke","STANDING_ANIMATION","FIRE_GRAPPLE_ANIMATION","RUNNING_ANIMATION_RIGHT","RUNNING_ANIMATION_LEFT","CLIMBING_ANIMATION","COLLISION_ANIMATION_RIGHT","COLLISION_ANIMATION_LEFT","GRAPPLE_TIMEOUT","LIVES","PLAYER_NUMBER","sprite","spriteIndex","outOfBounds","dying","lastFire","Date","collisionAnimation","setTimeout","grapple","changeInPos","resetPlayerY"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/javascript/bubble_bros.js\");\n","import MovingObject from './moving_object';\nimport Grapple from './grapple';\nimport Platform from './platform';\n\nconst DEFAULTS = {\n  VELOCITY: [2, 4],\n  GRAVITY: .2,\n  SIZE: 0\n};\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Buster%20Bros%20Balloons.png';\nconst SPRITES = [[1, 6, 48, 40], [52, 13, 32, 26], [86, 19, 16, 14], [106, 23, 8, 7]];\n\nexport default class Bubble extends MovingObject {\n  constructor(options) {\n    options.size = options.size || DEFAULTS.SIZE;\n    options.pos = options.pos || options.game.randomPosition();\n    options.vel = options.vel || DEFAULTS.VELOCITY;\n    options.gravity = options.gravity || DEFAULTS.GRAVITY;\n    options.width = SPRITES[options.size][2] * 2;\n    options.height = SPRITES[options.size][3] * 2;\n    super(options);\n    \n  }\n\n  draw(ctx) {\n    const bubble = new Image();\n    bubble.src = SPRITE_SHEET;\n\n    bubble.onload = () => {\n      ctx.drawImage(bubble, SPRITES[this.size][0], SPRITES[this.size][1], SPRITES[this.size][2], SPRITES[this.size][3], this.pos[0], this.pos[1], this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    };\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'x') this.vel[0] *= -1;\n    if (axis === 'y') {\n      this.vel[1] *= -1;\n      if (this.pos[1] > 100) this.pos[1] -= 2;\n      if (this.pos[1] < 100) this.pos[1] += 2;\n    }\n    if (this.pos[1] > 1200 || this.pos[1] < 0 || this.pos[0] > 1600 || this.pos[0] < 0) this.remove();\n  }\n\n  collideWith(otherObject, angle) {\n    if (otherObject instanceof Grapple) {\n      otherObject.remove();\n      if (this.size < 3) {\n        this.splitBubble()\n      } else {\n        this.remove();\n      }\n    } \n    if (otherObject instanceof Platform) {\n      if (angle >= 0 && angle < 180) { /// bottom\n        if (this.vel[1] > 0) this.vel[1] = -this.vel[1];\n      } else { /// top\n        if (this.vel[1] < 0) this.vel[1] = -this.vel[1];\n      }\n    }\n  }\n\n  splitBubble() {\n    let vel;\n    this.vel[1] < 0 ? vel = this.vel[1] : vel = this.vel[1] * -1;\n\n    this.game.add(new Bubble({\n      game: this.game,\n      pos: [this.pos[0] - 5, this.pos[1]],\n      vel: [this.vel[0] * -1, vel],\n      size: this.size + 1\n    }));\n    this.game.add(new Bubble({\n      game: this.game,\n      pos: [this.pos[0] + 5, this.pos[1]],\n      vel: [this.vel[0], vel],\n      size: this.size + 1\n    }));\n\n    this.remove();\n  }\n\n}\n","import Game from './game';\nimport GameView from './game_view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const hud = document.getElementById('hud');\n  hud.width = Game.DIM_X_HUD;\n  hud.height= Game.DIM_Y_HUD;\n  const ctxHUD = hud.getContext('2d');\n\n  const background = document.getElementById('background');\n  background.width = Game.DIM_X;\n  background.height = Game.DIM_Y\n  const ctxBG = background.getContext('2d');\n\n  const player = document.getElementById('player');\n  player.width = Game.DIM_X;\n  player.height = Game.DIM_Y_HUD;\n  const ctxPLAYER = player.getContext('2d');\n\n  const game = new Game();\n  window.game = game;\n  new GameView(game, ctxHUD, ctxBG, ctxPLAYER).start();\n});\n","import Player from './player';\nimport Bubble from './bubble';\nimport Grapple from './grapple';\nimport Platform from './platform';\nimport Ladder from './ladder';\n\nimport {LEVELS} from './level_config';\n\nexport default class Game {\n  constructor() {\n    this.bubbles = [];\n    this.grapples = [];\n    this.players = [];\n    this.platforms = [];\n    this.ladders = [];\n\n    this.level = 1;\n    this.addBubbles();\n    this.addPlatforms();\n\n    this.stageClear = false;\n    this.countdown = true;\n    this.timer = 300;\n\n    this.gameWon = false;\n    this.gameOver = false;\n    this.paused = false;\n\n    this.points = 0;\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  unpause() {\n    this.paused = false;\n  }\n\n  add(object) {\n    if (object instanceof Bubble) {\n      this.bubbles.push(object);\n    } else if (object instanceof Grapple) {\n      this.grapples.push(object);\n    } else if (object instanceof Player) {\n      this.players.push(object);\n    } else if (object instanceof Platform) {\n      this.platforms.push(object);\n    } else if (object instanceof Ladder) {\n      this.ladders.push(object);\n    } else {\n      throw new Error('Unknown type of object');\n    }\n  }\n\n  addBubbles() {\n    let level = LEVELS[this.level];\n\n    for (let i = 0; i < level.NUM_BUBBLES; i++) {\n      this.add(new Bubble({\n        game: this,\n        pos: level.BUBBLE_START_POS[i].slice(0),\n        vel: level.BUBBLE_VELOCITY[i].slice(0),\n        size: level.BUBBLE_SIZE[i]\n      }));\n    }\n  }\n\n  addPlatforms() {\n    let level = LEVELS[this.level];\n\n    for (let i = 0; i < level.NUM_PLATFORMS; i++) {\n      this.add(new Platform({\n        game: this,\n        pos: level.PLATFORM_POS[i].slice(0),\n        height: level.PLATFORM_HEIGHT[i],\n        width: level.PLATFORM_WIDTH[i],\n        hasLadder: level.PLATFORM_HAS_LADDER[i]\n      }));\n    }\n  }\n\n  addPlayers() {\n    let mainPlayer;\n    let level = LEVELS[this.level];\n\n    for (let i = 0; i < Game.NUM_PLAYERS; i++) {\n      let player = new Player({\n        pos: level.PLAYER_START_POS || this.playerStartPos(i),\n        game: this,\n        playerNumber: i,\n      });\n      \n      if (i === 0) mainPlayer = player;\n      this.add(player);\n    }\n\n    return mainPlayer;\n  }\n\n  allObjects() {\n    return [].concat(this.players, this.bubbles, this.grapples, this.platforms, this.ladders);\n  }\n\n  nonPlayerObjects() {\n    return [].concat(this.bubbles, this.grapples, this.platforms, this.ladders);\n  }\n\n  checkCollisions() {\n    if (!this.stageClear && !this.gameOver) {\n      const allObjects = this.allObjects();\n      for (let i = 0; i < allObjects.length; i++) {\n        for (let j = 0; j < allObjects.length; j++) {\n  \n          const obj1 = allObjects[i];\n          const obj2 = allObjects[j];\n  \n          const isCollidedWith = obj1.isCollidedWith(obj2)\n  \n          if (isCollidedWith) {\n            obj1.collideWith(obj2, isCollidedWith);\n          }\n        }\n      }\n    }\n  }\n\n  generateLevelCoordinates(num) {\n    const level = num || Math.floor(Math.random() * 50) + 1;\n    this.level = level;\n\n    let x;\n    let y;\n\n    level > 25 ? x = 400 : x = 8;\n    let row = level % 25;\n    (row === 1 || row === 26) ? y = 8 : y = 8 + (8 * row) + (208 * row);\n\n    return [x, y];\n  }\n\n  draw(ctxHUD, ctxBG, ctxPLAYER) {\n    this.drawHUD(ctxHUD);\n    this.drawBackground(ctxBG);\n    this.drawPlayer(ctxPLAYER);\n  }\n\n  drawBackground(ctxBG) {\n    const backgroundImage = new Image();\n    backgroundImage.src = Game.BG_IMAGE;\n\n    const levelCoordinates = this.generateLevelCoordinates(this.level);\n\n    backgroundImage.onload = () => {\n      ctxBG.drawImage(backgroundImage, levelCoordinates[0], levelCoordinates[1], 384, 208, 0, 0, Game.DIM_X, Game.DIM_Y);\n    };\n\n    \n    this.nonPlayerObjects().forEach(object => object.draw(ctxBG));\n\n    if (this.gameWon) {\n      ctxBG.font = \"120px Sans Serif\";\n      ctxBG.fillStyle = 'red';\n      ctxBG.fillText(`You Win!`, 215, Game.DIM_Y / 2);\n    }\n\n    if (this.stageClear && this.timer > 0) {\n      const stageClear = new Image();\n      stageClear.src = Game.STAGE_CLEAR_IMAGE;\n\n\n      ctxBG.drawImage(stageClear, Game.STAGE_CLEAR[0], Game.STAGE_CLEAR[1], Game.STAGE_CLEAR[2], Game.STAGE_CLEAR[3], Game.DIM_X / 4, Game.DIM_Y / 3, Game.STAGE_CLEAR[2], Game.STAGE_CLEAR[3]); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n      this.timer -= 2;\n\n      if (this.timer <= 0) {\n        this.stageClear = false;\n        this.nextLevel();\n      }\n    } else if (this.gameOver) {\n      const gameOver = new Image();\n      gameOver.src = Game.GAME_OVER_IMAGE;\n\n      ctxBG.drawImage(gameOver, Game.GAME_OVER[0], Game.GAME_OVER[1], Game.GAME_OVER[2], Game.GAME_OVER[3], Game.DIM_X / 4, Game.DIM_Y / 3, Game.GAME_OVER[2], Game.GAME_OVER[3]); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    } else if (this.countdown && this.timer > 0) {\n      if (this.timer > 200) {\n        ctxBG.font = \"120px Fantasy\";\n        ctxBG.fillStyle = 'white';\n        ctxBG.fillText(`3`, Game.DIM_X / 2 - 45, Game.DIM_Y / 2);\n      } else if (this.timer > 100) {\n        ctxBG.font = \"120px Fantasy\";\n        ctxBG.fillStyle = \"white\";\n        ctxBG.fillText(`2`, Game.DIM_X / 2 - 45, Game.DIM_Y / 2);\n      } else if (this.timer > 0) {\n        ctxBG.font = \"120px Fantasy\";\n        ctxBG.fillStyle = \"white\";\n        ctxBG.fillText(`1`, Game.DIM_X / 2 - 45, Game.DIM_Y / 2);\n      }\n      this.timer -= 2;\n      \n      if (this.timer <= 0) {\n        this.countdown = false;\n        this.timer = 300;\n      }\n    }\n  }\n\n  drawHUD (ctxHUD) {\n    ctxHUD.clearRect(0, 0, Game.DIM_X_HUD, Game.DIM_Y_HUD);\n\n    const livesImage = new Image();\n    livesImage.src = Game.HUD_LIVES_IMAGE;\n\n    ctxHUD.drawImage(livesImage, Game.HUD_LIVES[0], Game.HUD_LIVES[1], Game.HUD_LIVES[2], Game.HUD_LIVES[3], 20, Game.DIM_Y + 5, Game.HUD_LIVES[2] * 2, Game.HUD_LIVES[3] * 2);\n\n    ctxHUD.font = \"34px Sans Serif\";\n    ctxHUD.fillStyle = \"yellow\";\n    ctxHUD.fillText(`x ${this.players[0] ? this.players[0].livesLeft : 0}`, 62, Game.DIM_Y + 35);\n    ctxHUD.fillText(`${this.points}`, (Game.DIM_X / 2) - 30, Game.DIM_Y + 35);\n    ctxHUD.fillText(`WORLD ${this.level}`, Game.DIM_X - 180, Game.DIM_Y + 35);\n  }\n\n  drawPlayer(ctxPLAYER) {\n    ctxPLAYER.clearRect(0, 0, Game.DIM_X_HUD, Game.DIM_Y_HUD);\n    this.players.forEach(player => player.draw(ctxPLAYER));\n  }\n\n  isOutOfBounds(object) {\n    if ((object.pos[0] <= Game.DIM_X * Game.BG_BORDER) || (object.pos[0] + (object.width) >= Game.DIM_X - (Game.DIM_X * Game.BG_BORDER))) {\n      return 'x';\n    } else if ((object.pos[1] <= Game.DIM_Y * Game.BG_BORDER) || (object.pos[1] + (object.height) >= Game.DIM_Y - (Game.DIM_Y * Game.BG_BORDER))) {\n      return 'y';\n    }\n  }\n\n  moveObjects(delta) {\n    if (!this.stageClear && !this.gameOver) {\n      if (!this.countdown) {\n        this.allObjects().forEach((object) => {\n          if (object instanceof Grapple) {\n            object.height += Math.abs(object.vel[1]);\n          }\n          object.move(delta);\n        });\n      } else {\n        this.ladders.forEach(ladder => {\n          if (ladder.building) ladder.height += 5;\n          ladder.move(delta);\n        });\n      }\n    }\n  }\n\n  remove(object) {\n    if (object instanceof Grapple) {\n      this.grapples.splice(this.grapples.indexOf(object), 1);\n    } else if (object instanceof Bubble) {\n      this.points += 100 * (object.size + 1);\n      this.bubbles.splice(this.bubbles.indexOf(object), 1);\n      if (this.bubbles.length === 0) {\n        if (this.level < 10) {\n          this.stageClear = true;\n        } else {\n          this.gameWon = true;\n        }\n      }\n    } else if (object instanceof Player) {\n      this.players.splice(this.players.indexOf(object), 1);\n      if (this.players.length === 0) {\n        this.gameOver = true;\n      }\n    } else if (object instanceof Platform) {\n      this.platforms.splice(this.platforms.indexOf(object), 1);\n    }\n    else {\n      throw new Error('Unknown type of object');\n    }\n  }\n\n  nextLevel() {\n    this.level += 1;\n    this.resetLevel();\n  }\n  \n  randomPosition() {\n    return [\n      Game.DIM_X * Math.random(),\n      Game.DIM_Y * Math.random()\n    ];\n  }\n  \n  resetLevel() {\n    this.bubbles = [];\n    this.platforms = [];\n    this.ladders = [];\n    this.grapples = [];\n    this.timer = 300;\n    this.countdown = true;\n\n    this.players.forEach(player => this.resetPlayerPos(player));\n\n    this.addBubbles();\n    this.addPlatforms();\n  }\n\n  resetPlayerPos(player) {\n    player.platform = null;\n    player.climbing = false;\n    player.pos = this.playerStartPos(player.playerNumber);\n  }\n\n  resetPlayerY(player) {\n    player.pos[1] = this.playerStartPos(player.playerNumber)[1]\n  }\n\n  playerStartPos(playerNumber) {\n    let level = LEVELS[this.level];\n    if (level.PLAYER_START_POS) return level.PLAYER_START_POS;\n    return [Game.DIM_X * Game.PLAYER_START_POS[playerNumber][0], Game.DIM_Y * Game.PLAYER_START_POS[playerNumber][1]]\n  }\n\n  step(delta) {\n    if (!this.paused) {\n      this.moveObjects(delta);\n      this.checkCollisions();\n    }\n  }\n}\n\nGame.BG_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Buster%20Bros%20Backgrounds.png';\nGame.BG_BORDER = 0.02;\nGame.DIM_X = 920;\nGame.DIM_Y = 500;\n\nGame.DIM_X_HUD = Game.DIM_X;\nGame.DIM_Y_HUD = Game.DIM_Y + 65;\nGame.HUD_LIVES_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/sprite_file.png';\nGame.HUD_LIVES = [153, 81, 16, 16]\n\nGame.STAGE_CLEAR_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/stage_clear.png';\nGame.STAGE_CLEAR = [5, 8, 449, 56];\n\nGame.GAME_OVER_IMAGE = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/game_over.png';\nGame.GAME_OVER = [9, 3, 414, 67];\n\nGame.NUM_PLAYERS = 1;\nGame.PLAYER_START_POS = [[0.45, 0.83], [0.95, 0.83]];\n","import Game from './game';\n\nclass GameView {\n  constructor(game, ctxHUD, ctxBG, ctxPLAYER) {\n    this.ctxHUD = ctxHUD;\n    this.ctxBG = ctxBG;\n    this.ctxPLAYER = ctxPLAYER;\n    this.game = game;\n    this.player = this.game.addPlayers();\n  }\n\n  bindKeyHandlers() {\n    const { player } = this;\n\n    document.addEventListener('keypress', (event) => {\n      if (GameView.RUN[event.key]) player.run(GameView.RUN[event.key]);\n      if (GameView.CLIMB[event.key]) player.climb(GameView.CLIMB[event.key]);\n      if (event.code === 'Space') player.fireGrapple();\n    });\n\n    document.addEventListener('keyup', (event) => {\n      if (GameView.RUN[event.key]) player.stopRunning();\n      if (GameView.CLIMB[event.key]) player.stopClimbing();\n    });\n\n    let instructionsButton = document.getElementsByClassName('instructions-button')[0];\n    let instructionsModal = document.getElementsByClassName('instructions-container')[0];\n    let closeInstructionsButton = document.getElementsByClassName('close-modal')[0];\n\n    let game = this.game;\n    \n    instructionsButton.addEventListener('click', () => {\n      instructionsModal.classList.add('active');\n      game.pause();\n    });\n\n    closeInstructionsButton.addEventListener('click', () => {\n      instructionsModal.classList.remove('active');\n      game.unpause();\n    });\n\n    let playAgainButton = document.getElementsByClassName('play-again')[0];\n\n    playAgainButton.addEventListener('click', () => {\n      this.resetGame();\n    });\n  }\n\n  resetGame() {\n    this.game = new Game();\n    this.player = this.game.addPlayers();\n    this.bindKeyHandlers();\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctxHUD, this.ctxBG, this.ctxPLAYER);\n    this.lastTime = time;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGameView.RUN = {\n  a: [-1, 0],\n  d: [1, 0],\n};\n\nGameView.CLIMB = {\n  s: [0, 1],\n  w: [0, -1],\n}\n\nexport default GameView;\n","import MovingObject from './moving_object';\nimport Bubble from './bubble';\nimport Platform from './platform';\n\nconst ROPE_SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/rope_sprite.png';\nconst ROPE = [118, 17, 14, 949];\nconst HOOK_SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/Grappling%20Hook.png';\nconst HOOK = [4, 0, 222, 264];\n\nconst DEFAULTS = {\n  WIDTH: 5,\n  HEIGHT: 0,\n  VELOCITY: Object.freeze([0, -7]),\n  GRAVITY: 0,\n  FREEZE_DUR: 75,\n}\n\nexport default class Grapple extends MovingObject {\n  constructor(options) {\n    options.width = DEFAULTS.WIDTH;\n    options.height = DEFAULTS.HEIGHT;\n    options.vel = options.vel || DEFAULTS.VELOCITY.slice(0);\n    options.gravity = DEFAULTS.GRAVITY;\n    super(options);\n\n    this.freezeDur = DEFAULTS.FREEZE_DUR;\n  }\n\n  draw(ctx) {\n    const rope = new Image();\n    rope.src = ROPE_SPRITE_SHEET;\n\n    const hook = new Image();\n    hook.src = HOOK_SPRITE_SHEET;\n\n    ctx.drawImage(hook, HOOK[0], HOOK[1], HOOK[2], HOOK[3], this.pos[0] - 13, this.pos[1], 30, 35); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    ctx.drawImage(rope, ROPE[0], ROPE[1], ROPE[2], this.height, this.pos[0], this.pos[1] + 30, this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n  }\n\n  collideWith(otherObject) {\n    if (otherObject instanceof Platform && otherObject.ladder) {\n      this.handleOutOfBounds('y');\n    } else if (otherObject instanceof Platform && !otherObject.ladder) {\n      otherObject.remove();\n      this.remove();\n    }\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'y') {\n      this.vel[1] = 0;\n      this.freezeDur -= 1;\n      if (this.freezeDur === 0) this.remove();\n    }\n  }\n}","import MovingObject from './moving_object';\n\nexport default class Ladder extends MovingObject{\n  constructor(options) {\n    options.width = options.width || 20;\n    options.height = options.height || 50;\n    options.gravity = 0;\n    super(options);\n\n    this.platform = options.platform;\n\n    this.building = true;\n  }\n\n  draw(ctxBG) {\n    const ladder = new Image();\n    ladder.src = SPRITE_SHEET;\n\n    ladder.onload = () => {\n      ctxBG.drawImage(ladder, SPRITE[0], SPRITE[1], SPRITE[2], SPRITE[3], this.pos[0], this.pos[1], this.width, this.height); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n    };\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'y') {\n      this.building = false;\n    }\n  }\n}\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/ladder.png';\nconst SPRITE = [77, 4, 116, 298];","export const LEVELS = {\n  1: {\n    NUM_BUBBLES: 1,\n    BUBBLE_SIZE: [1],\n    BUBBLE_START_POS: [[100, 100]],\n    BUBBLE_VELOCITY: [[2, 0]],\n    \n    NUM_PLATFORMS: 0,\n    PLATFORM_POS: [],\n    PLATFORM_HEIGHT: [],\n    PLATFORM_WIDTH: [],\n    PLATFORM_HAS_LADDER: [false]\n  },\n  2: {\n    NUM_BUBBLES: 1,\n    BUBBLE_SIZE: [0],\n    BUBBLE_START_POS: [[320, 60]],\n    BUBBLE_VELOCITY: [[2, 0]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[380, 180]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [150],\n    PLATFORM_HAS_LADDER: [false]\n  },\n  3: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 2],\n    BUBBLE_START_POS: [[100, 50], [500, 250]],\n    BUBBLE_VELOCITY: [[2, 0], [-2, 0]],\n\n    NUM_PLATFORMS: 4,\n    PLATFORM_POS: [[180, 160], [430, 160], [680, 160], [430, 300]],\n    PLATFORM_HEIGHT: [10, 10, 10, 10],\n    PLATFORM_WIDTH: [75, 75, 75, 75],\n    PLATFORM_HAS_LADDER: [false, false, false, false]\n  },\n  4: {\n    PLAYER_START_POS: [424,300],\n\n    NUM_BUBBLES: 1,\n    BUBBLE_SIZE: [0],\n    BUBBLE_START_POS: [[300, 70]],\n    BUBBLE_VELOCITY: [[-2, 0]],\n\n    NUM_PLATFORMS: 1,\n    PLATFORM_POS: [[350, 360]],\n    PLATFORM_HEIGHT: [10],\n    PLATFORM_WIDTH: [200],\n    PLATFORM_HAS_LADDER: [true]\n  },\n  5: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 1],\n    BUBBLE_START_POS: [[100, 50], [400, 130]],\n    BUBBLE_VELOCITY: [[2, 0], [-2, 0]],\n\n    NUM_PLATFORMS: 3,\n    PLATFORM_POS: [[180, 160], [430, 200], [680, 160]],\n    PLATFORM_HEIGHT: [10, 10, 10],\n    PLATFORM_WIDTH: [75, 75, 75],\n    PLATFORM_HAS_LADDER: [false, false, false]\n  },\n  6: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 0],\n    BUBBLE_START_POS: [[150, 60], [650, 60]],\n    BUBBLE_VELOCITY: [[-2, 0], [2, 0]],\n\n    NUM_PLATFORMS: 2,\n    PLATFORM_POS: [[180, 160], [680, 160]],\n    PLATFORM_HEIGHT: [10, 10],\n    PLATFORM_WIDTH: [50, 50],\n    PLATFORM_HAS_LADDER: [false, false]\n  },\n  7: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [1, 1],\n    BUBBLE_START_POS: [[100, 100], [750, 100]],\n    BUBBLE_VELOCITY: [[2, 0], [-2, 0]],\n\n    NUM_PLATFORMS: 8,\n    PLATFORM_POS: [[80, 200], [80, 210], [630, 200], [630, 210], [350, 140], [350, 150], [350, 280], [350, 290]],\n    PLATFORM_HEIGHT: [10, 10, 10, 10, 10, 10, 10, 10],\n    PLATFORM_WIDTH: [150, 150, 150, 150, 150, 150, 150, 150],\n    PLATFORM_HAS_LADDER: [false, false, false, false, false, false, false, false]\n  },\n  8: {\n    NUM_BUBBLES: 4,\n    BUBBLE_SIZE: [0, 2, 2, 3],\n    BUBBLE_START_POS: [[400, 120], [100, 25], [200, 25], [300, 25]],\n    BUBBLE_VELOCITY: [[3, 0], [2, 0], [2,0], [2,0]],\n\n    NUM_PLATFORMS: 6,\n    PLATFORM_POS: [[20, 100], [240, 100], [460, 100], [680, 100], [40, 230], [600, 350]],\n    PLATFORM_HEIGHT: [10, 10, 10, 10, 10, 10],\n    PLATFORM_WIDTH: [220, 220, 220, 220, 120, 120],\n    PLATFORM_HAS_LADDER: [false, false, false, false, true, true]\n  },\n  9: {\n    PLAYER_START_POS: [424, 360],\n\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [0, 0],\n    BUBBLE_START_POS: [[400, 100], [400, 100]],\n    BUBBLE_VELOCITY: [[3, 0], [-3, 0]],\n\n    NUM_PLATFORMS: 3,\n    PLATFORM_POS: [[100, 420], [420, 420], [700, 420]],\n    PLATFORM_HEIGHT: [10, 10, 10],\n    PLATFORM_WIDTH: [100, 100, 100],\n    PLATFORM_HAS_LADDER: [true, true ,true]\n  },\n  10: {\n    NUM_BUBBLES: 2,\n    BUBBLE_SIZE: [1, 0],\n    BUBBLE_START_POS: [[100, 100], [750, 30]],\n    BUBBLE_VELOCITY: [[3, 0], [-2, 0]],\n\n   NUM_PLATFORMS: 14,\n   PLATFORM_POS: [[100, 200], [200, 200], [300, 200], [400, 200], [500, 200], [600, 200], [700, 200], [150, 300], [250, 300], [350, 300], [450, 300], [550, 300], [650, 300], [750, 300]],\n   PLATFORM_HEIGHT: [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],\n   PLATFORM_WIDTH: [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],\n   PLATFORM_HAS_LADDER: false\n  },\n  11: {\n\n  },\n  12: {\n\n  },\n  13: {\n\n  },\n  14: {\n\n  },\n  15: {\n\n  },\n  16: {\n\n  },\n  17: {\n\n  },\n  18: {\n\n  },\n  19: {\n\n  },\n  20: {\n\n  }\n}","const NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.gravity = options.gravity;\n    this.width = options.width;\n    this.height = options.height;\n    this.size = options.size;\n    this.game = options.game;\n  }\n\n  collideWith(otherObject) {\n    // default do nothing\n  }\n\n  isCollidedWith(otherObject, heightChange) {\n    let extraHeight = heightChange || 0;\n    var hit = !(this.pos[0] + this.width < otherObject.pos[0] ||\n      otherObject.pos[0] + otherObject.width < this.pos[0] ||\n      this.pos[1] + this.height + extraHeight < otherObject.pos[1] ||\n      otherObject.pos[1] + otherObject.height < this.pos[1]);\n\n      if (hit) {\n        var dx = otherObject.pos[0] - this.pos[0];\n        var dy = otherObject.pos[1] - this.pos[1];\n\n        var angle = Math.atan2(dy, dx) * 180 / Math.PI;\n        if (angle < 0) angle += 360;\n\n        return angle;\n\n      } else {\n        return null;\n      }\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n\n    this.vel[1] += this.gravity;\n    \n    const offsetX = this.vel[0] * velocityScale;\n    const offsetY = this.vel[1] * velocityScale;\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    this.handleOutOfBounds(this.game.isOutOfBounds(this));\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nexport default MovingObject;\n","import MovingObject from \"./moving_object\";\nimport Ladder from './ladder';\nimport Bubble from './bubble';\n\nexport default class Platform extends MovingObject {\n  constructor(options) {\n    super(options);\n    this.hasLadder = options.hasLadder;\n    if (this.hasLadder) this.ladder = this.generateLadder();\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.rect(this.pos[0], this.pos[1], this.width, this.height);\n    ctx.fillStyle = '#00FF00';\n    ctx.fill();\n    ctx.lineWidth = 4;\n    ctx.strokeStyle = '#00CC00';\n    ctx.stroke();\n  }\n\n  generateLadder() {\n    let ladder = new Ladder({\n      pos: [this.pos[0] + (this.width / 2) - 20, this.pos[1] + this.height],\n      vel: [0, 0],\n      width: 40,\n      height: 10,\n      platform: this,\n      game: this.game\n    });\n\n    this.game.add(ladder);\n    return ladder;\n  }\n\n  move() {\n\n  }\n}","import MovingObject from './moving_object';\nimport Grapple from './grapple';\nimport Bubble from './bubble';\nimport Platform from './platform';\nimport Ladder from './ladder';\n\nconst SPRITE_SHEET = 'https://raw.githubusercontent.com/wburke415/BubbleBros/master/lib/images/sprite_file.png';\nconst STANDING_ANIMATION = [11, 149, 26, 32];\nconst FIRE_GRAPPLE_ANIMATION = [43, 152, 27, 29]\nconst RUNNING_ANIMATION_RIGHT = [[11, 39, 30, 32], [45, 40, 30, 31], [79, 39, 30, 32], [113, 40, 28, 31], [148, 40, 30, 31]];\nconst RUNNING_ANIMATION_LEFT = [[145, 5, 30, 32], [111, 6, 30, 31], [77, 5, 30, 32], [45, 6, 28, 31], [9, 6, 30, 31]];\nconst CLIMBING_ANIMATION = [[12, 73, 24, 32], [48, 73, 24, 32], [80, 73, 26, 32], [114, 73, 26, 32]];\nconst COLLISION_ANIMATION_RIGHT = [80, 149, 41, 30];\nconst COLLISION_ANIMATION_LEFT = [131, 149, 41, 30];\n\nconst GRAPPLE_TIMEOUT = 300;\n\nconst DEFAULTS = {\n  VELOCITY: Object.freeze([0, 0]),\n  GRAVITY: 0,\n  LIVES: 3,\n  PLAYER_NUMBER: 0\n};\n\nexport default class Player extends MovingObject {\n  constructor(options) {\n    options.width = STANDING_ANIMATION[2] * 2;\n    options.height = STANDING_ANIMATION[3] * 2;\n    options.vel = options.vel || DEFAULTS.VELOCITY.slice(0);\n    options.gravity = DEFAULTS.GRAVITY;\n    super(options);\n\n    this.sprite = STANDING_ANIMATION;\n    this.spriteIndex = 0;\n\n    this.outOfBounds = false;\n    this.dying = false;\n\n    this.lastFire = new Date();\n    this.fireGrapple = this.fireGrapple.bind(this);\n\n    this.ladder = null;\n    this.climbing = false;\n\n    this.platform = null;\n\n    this.livesLeft = options.livesLeft || DEFAULTS.LIVES;\n    this.playerNumber = options.playerNumber || DEFAULTS.PLAYER_NUMBER;\n  }\n\n  draw(ctx) {\n    const player = new Image();\n    player.src = SPRITE_SHEET;\n\n    ctx.drawImage(player, this.sprite[0], this.sprite[1], this.sprite[2], this.sprite[3], this.pos[0], this.pos[1], this.sprite[2] * 2, this.sprite[3] * 2); // img, x of top left in img, y of top left in img, width of img, height of img, x coordinate to render at, y coordinate to render at, scale x of img, scale y of img\n  }\n\n  collideWith(otherObject, angle) {\n    if (otherObject instanceof Bubble && !this.dying) {\n      this.collisionAnimation(angle)\n      setTimeout(() => {\n        if (this.livesLeft > 1) {\n          this.livesLeft -= 1;\n          this.resetLevel();\n        } else {\n          this.remove();\n        }\n      }, 2000)\n    }\n    if (otherObject instanceof Platform) {\n      this.platform = otherObject;\n      this.ladder = otherObject.ladder;\n    }\n    if (otherObject instanceof Ladder) this.ladder = otherObject;\n  }\n\n  collisionAnimation(angle) {\n    this.dying = true;\n    this.gravity = .1;\n    if ((angle >= 0 && angle < 90) || (angle > 270 && angle < 360)) {\n      this.sprite = COLLISION_ANIMATION_RIGHT;\n      this.spriteIndex = 0;\n    } else {\n      this.sprite = COLLISION_ANIMATION_LEFT;\n      this.spriteIndex = 0;\n    }\n  }\n\n  fireGrapple() {\n    const time = new Date();\n    \n    if (time - this.lastFire > GRAPPLE_TIMEOUT && !this.dying && !this.game.countdown && this.gravity === 0) {\n      this.sprite = FIRE_GRAPPLE_ANIMATION;\n      this.spriteIndex = 0;\n\n      this.lastFire = time;\n      setTimeout(() => {\n        const grapple = new Grapple({\n          pos: [this.pos[0] + 27, this.pos[1] + 32],\n          game: this.game,\n        });\n    \n        this.game.add(grapple);\n        this.sprite = STANDING_ANIMATION;\n      }, 100)\n    }\n  }\n\n  handleOutOfBounds(axis) {\n    if (axis === 'x' && this.pos[0] < 100) this.pos[0] += 5;\n    if (axis === 'x' && this.pos[0] > 100) this.pos[0] -= 5;\n    if (axis === 'y' && this.pos[1] > this.game.playerStartPos(this.playerNumber)[1] + 10 && !this.dying) {\n      this.climbing = false;\n      this.gravity = 0;\n      this.vel = [0,0];\n      this.pos[1] = 417;\n    }\n  }\n\n  run(changeInPos) {\n    if (!this.dying && !this.game.stageClear && !this.climbing && !this.game.countdown) {\n      let platform = this.platform;\n\n      if (platform && (this.pos[0] < platform.pos[0] || this.pos[0] > platform.pos[0] + platform.width - this.width)) {\n        this.gravity += 0.5;\n        this.platform = false;\n      } \n\n      this.vel[0] = changeInPos[0] * 3;\n      \n      if (changeInPos[0] === 1) {\n        this.sprite = RUNNING_ANIMATION_RIGHT[this.spriteIndex];\n        this.spriteIndex = (this.spriteIndex + 1) % 5;\n      } else if (changeInPos[0] === -1) {\n        this.sprite = RUNNING_ANIMATION_LEFT[this.spriteIndex];\n        this.spriteIndex = (this.spriteIndex + 1) % 5;\n      }\n    }\n  }\n\n  stopRunning() {\n    if (!this.dying && !this.climbing) {\n      this.vel = [0, 0];\n      this.spriteIndex = 0;\n      this.sprite = STANDING_ANIMATION;\n    }\n  }\n\n  climb(changeInPos) {\n    if (!this.dying && !this.game.stageClear && this.vel[0] === 0 && !this.game.countdown) {\n      if (changeInPos[1] === -1 && this.ladder && this.isCollidedWith(this.ladder)) {\n        this.climbing = true;\n        this.vel[1] = changeInPos[1] * 2;\n        this.sprite = CLIMBING_ANIMATION[Math.floor(this.spriteIndex)];\n        this.spriteIndex = (this.spriteIndex + 0.5) % 4;\n      } else if (changeInPos[1] === 1 && this.isCollidedWith(this.ladder, 10) && this.pos[1] < 412) {\n          this.climbing = true;\n          this.vel[1] = changeInPos[1] * 2;\n          this.sprite = CLIMBING_ANIMATION[Math.floor(this.spriteIndex)];\n          this.spriteIndex = (this.spriteIndex + 0.5) % 4;\n      } else {\n        this.climbing = false;\n        this.stopClimbing();\n      }\n    } \n  }\n\n  stopClimbing() {\n    if (!this.dying) {\n      if (this.platform && !this.isCollidedWith(this.platform)) this.platform = null;\n\n      this.vel = [0, 0];\n\n      if (!this.climbing) {\n        this.spriteIndex = 0;\n        this.sprite = STANDING_ANIMATION;\n        if (this.game.isOutOfBounds(this)) this.game.resetPlayerY(this);\n      }\n\n    }\n  }\n\n  resetLevel() {\n    this.dying = false;\n    this.gravity = 0;\n    this.vel = [0, 0];\n    this.sprite = STANDING_ANIMATION;\n    this.game.resetLevel();\n  }\n}\n"],"sourceRoot":""}